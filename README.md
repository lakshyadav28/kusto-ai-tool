# Kusto AI Tool

AI-powered tool for semantic search and natural language to Kusto Query Language (KQL) conversion, using embeddings and context from service logs.

## Features
- **Semantic Search:** Find relevant log events using embeddings and natural language queries.
- **NL to KQL Conversion:** Convert user queries and context into Kusto queries using LLMs.
- **Contextual Filtering:** Supports feature/tag-based filtering and advanced metric extraction.

## Folder Structure
```
kusto_knowledge.index
kusto_knowledge.json
metadata.json
requirements.txt
app/
    main.py
    testAPI.py
    models/
        schemas.py
    routes/
        chat.py
    services/
        kusto_service.py
        openai_service.py
    utils/
        embed.py
        embeddingSearcher.py
        embedNew.py
        kqlValidator.py
        nl2kql.py
        parser.py
        semantic_search.py
embeddings/
    embedding_info.json
    metadata_items.pkl
    metadata.index
```

## Setup Instructions
1. Clone the repository:
   ```sh
   git clone https://github.com/<your-org>/kusto-ai-tool.git
   cd kusto-ai-tool
   ```
2. Install dependencies:
   ```sh
   pip install -r requirements.txt
   ```
3. Configure your environment (see `.env.example` if provided).

## Usage
- Run embedding generation:
  ```sh
  python app/utils/embedNew.py
  ```
- Run semantic search or NL to KQL conversion via `testAPI.py` or integrate with your application.

## Example
```
User Query: Show reliability for feature Feature_0479
Context: (see embeddings/metadata_items.pkl)
KQL Output: (generated by LLM)
```

## Contributing
Pull requests are welcome. For major changes, please open an issue first to discuss what you would like to change.

## License
